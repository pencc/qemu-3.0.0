1) How to Build
#./configure  --prefix=/usr --enable-spice --enable-usb-redir --enable-kvm   --enable-libnfs --enable-system  --enable-libiscsi  --target-list=aarch64-softmmu --target-list=x86_64-softmmu
$ make
# make install


编译包的本地源：deb file:/qemu所在绝对路径/qemu/deb/debian jessie main
编译环境所需包：
apt-get install git libglib2.0-dev libfdt-dev libpixman-1-dev zlib1g-dev git-email libaio-dev libbluetooth-dev libbrlapi-dev libbz2-dev libcap-ng-dev libcurl4-gnutls-dev libgtk-vnc-2.0-dev  libibverbs-dev libjpeg-dev libncurses5-dev libnuma-dev librbd-dev librdmacm-dev libsasl2-dev libsdl1.2-dev libseccomp-dev libsnappy-dev libssh2-1-dev libvde-dev libvdeplug-dev libvte-2.91-dev libxen-dev liblzo2-dev valgrind xfslibs-dev libnfs-dev libiscsi-dev libspice-server-dev libusbredirhost-dev libusb-1.0-0-dev librtmp-dev


下载完上面的包后，需要卸载libgtk-3-dev，否则编译会报错
apt-get remove libgtk-3-dev




运行包的本地源：deb file:/qemu所在绝对路径/qemu/qemu_deb/debian jessie main
运行所需包：
apt-get install librtmp1 libiscsi-bin libpng16-16  libsnappy1v5 libnfs8 libspice-server1 libssh2-1

debug:
将configure文件中的"-O2"改为"-O0"
#./configure  --prefix=/usr --enable-spice --enable-usb-redir --enable-kvm   --enable-libnfs --enable-system  --enable-libiscsi  --target-list=aarch64-softmmu --target-list=x86_64-softmmu --enable-debug
# gdb qemu-system-x86_64
# set args -m 512 --enable-kvm /opt/libvirt/base.qcow2 -spice port=5900,addr=0.0.0.0,disable-ticketing,image-compression=off,streaming-video=all  -vga qxl
# r

